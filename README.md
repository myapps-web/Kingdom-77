# Kingdom-77 Discord Bot

مستودع بسيط لبوت ديسكورد مخصّص للترجمة مع نظام تقييم وإدارة صلاحيات.

## 📁 هيكل المشروع / Project Structure

```
Kingdom-77/
│
├── main.py                 # الملف الرئيسي للبوت / Main bot file
├── requirements.txt        # متطلبات البايثون / Python dependencies
├── .env.example           # مثال لملف المتغيرات / Environment variables example
│
├── data/                  # ملفات البيانات / Data files
│   ├── channels.json          # إعدادات اللغات للقنوات (لغة أساسية + ثانوية)
│   ├── servers.json           # معلومات السيرفرات المسجلة
│   ├── ratings.json           # تقييمات المستخدمين
│   ├── allowed_roles.json     # الرتب المسموحة
│   ├── role_languages.json    # لغات الرتب الافتراضية
│   └── role_permissions.json  # صلاحيات الرتب المخصصة
│
├── bot_stats.txt          # تقرير إحصائيات البوت الشامل (محلي فقط)
│
├── docs/                  # الوثائق / Documentation
│   ├── README.md              # دليل الاستخدام
│   ├── RATING_SYSTEM.md       # وثائق نظام التقييم
│   ├── RATING_SYSTEM_GUIDE.md # دليل التقييم (عربي/إنجليزي)
│   ├── ROLE_MANAGEMENT_SYSTEM.md # وثائق نظام الصلاحيات
│   ├── ROLE_LANGUAGES_GUIDE.md # دليل لغات الرتب (عربي شامل)
│   └── replit.md              # معلومات Replit
│
├── backup/                # ملفات النسخ الاحتياطي / Backup files
│
├── tests/                 # الاختبارات / Tests
│   └── check_cogs.py
│
└── cogs/                  # Cogs (إضافية) / Additional cogs
    └── ...
```

## ✨ الميزات / Features

- 🌍 **ترجمة تلقائية** - ترجمة الرسائل حسب لغة القناة المحددة
- � **ترجمة ثنائية الاتجاه** - دعم لغتين لقناة واحدة مع ترجمة متبادلة
- �🖱️ **ترجمة بالنقر اليمين** - ترجم أي رسالة إلى لغتك بنقرة واحدة
- 🎭 **ترجمة حسب الرتب** - تعيين لغة افتراضية لكل رتبة
- ⭐ **نظام التقييم** - تقييم البوت من 1-5 نجوم مع إحصائيات
- � **إحصائيات شاملة** - تتبع السيرفرات والتقييمات والقنوات
- �🔐 **نظام الصلاحيات** - إدارة الصلاحيات عبر الرتب
- 🌐 **دعم متعدد اللغات** - ترجمة تلقائية لرسائل الخطأ إلى أي لغة
- 🎨 **واجهة تفاعلية** - أزرار وقوائم منسدلة وفلاتر ذكية
- ⚡ **أداء محسّن** - ترجمة سريعة مع نظام تخزين مؤقت

## 🚀 التثبيت / Installation

### محلياً (Windows / PowerShell)

1. **نسخ المستودع:**
```bash
git clone https://github.com/myapps-web/Kingdom-77.git
cd Kingdom-77
```

2. **إنشاء بيئة افتراضية:**
```powershell
python -m venv .venv
.venv\Scripts\Activate.ps1
```

3. **تثبيت المتطلبات:**
```powershell
pip install -r requirements.txt
```

4. **إعداد المتغيرات:**
- انسخ `.env.example` إلى `.env`
- أضف توكن البوت في ملف `.env`:
```
TOKEN=YOUR_DISCORD_BOT_TOKEN
```

5. **تشغيل البوت:**
```powershell
python main.py
```

### على Replit

1. ارفع المجلد أو اربط المستودع بـ Replit
2. في **Settings → Secrets** أدخل `TOKEN` بقيمة توكن البوت
3. اضبط أمر التشغيل إلى: `python main.py`
4. اضغط **Run**

#### ⏰ إبقاء البوت يعمل 24/7 على Replit (خطة مجانية)

البوت يتضمن نظام Keep-Alive تلقائي:
- سيرفر Flask داخلي يعمل على المنفذ 8080
- لضمان عمل البوت بشكل مستمر، قم بإعداد **UptimeRobot** (مجاني):
  1. أنشئ حساب على [UptimeRobot.com](https://uptimerobot.com/)
  2. أضف مراقب جديد (New Monitor):
     - النوع: HTTP(s)
     - عنوان URL: `https://your-repl-name.your-username.repl.co`
     - فترة المراقبة: 5 دقائق
  3. UptimeRobot سيرسل طلبات كل 5 دقائق لإبقاء البوت نشطاً
  
  📖 **للتفاصيل الكاملة:** راجع ملف [REPLIT_UPTIME_GUIDE.md](./REPLIT_UPTIME_GUIDE.md)

## 📝 الأوامر المتاحة / Available Commands

### أوامر عامة / General Commands
- `/ping` - فحص استجابة البوت مع 6 مستويات ديناميكية
- `/botstats` - عرض إحصائيات البوت الشاملة (سيرفرات، تقييمات، قنوات)
- `/help` - عرض جميع الأوامر
- `/view lists` - عرض جميع القوائم مع فلاتر وتبويبات منظمة

### إدارة القنوات / Channel Management
- `/channel addlang [channel]` - تعيين لغة أساسية وثانوية لقناة (دعم لغتين)
- `/channel deletelang [channel]` - حذف إعدادات اللغة من قناة

### ميزة الترجمة التفاعلية / Interactive Translation
- **نقر يمين على رسالة → Translate Message** - ترجم أي رسالة إلى لغتك
- يتطلب أن يكون لديك رتبة بلغة محددة
- رسائل خطأ متعددة اللغات (8 لغات مدعومة)

### نظام التقييم / Rating System
- `/rate` - تقييم البوت (1-5 نجوم)
- `/ratings` - عرض إحصائيات التقييمات

### إدارة الرتب والصلاحيات / Role & Permission Management (Admin Only)
- `/role perms <role>` - منح صلاحيات البوت لرتبة
- `/role editperms <role>` - تعديل أو سحب صلاحيات رتبة
- `/role setlang <role> <language>` - تعيين لغة افتراضية لرتبة
- `/role removelang <role>` - حذف لغة الرتبة

### أدوات التطوير / Development Tools (Admin Only)
- `/debug` - معلومات تصحيح الأخطاء
- `/sync` - مزامنة الأوامر يدوياً مع Discord

## 🌐 اللغات المدعومة / Supported Languages

أكثر من 30 لغة مدعومة، منها:

- 🇸🇦 العربية (Arabic) - `ar`
- 🇬🇧 الإنجليزية (English) - `en`
- 🇹🇷 التركية (Turkish) - `tr`
- 🇯🇵 اليابانية (Japanese) - `ja`
- 🇫🇷 الفرنسية (French) - `fr`
- 🇰🇷 الكورية (Korean) - `ko`
- 🇮🇹 الإيطالية (Italian) - `it`
- 🇪🇸 الإسبانية (Spanish) - `es`
- 🇩🇪 الألمانية (German) - `de`
- 🇨🇳 الصينية (Chinese) - `zh-CN`
- 🇷🇺 الروسية (Russian) - `ru`
- 🇵🇹 البرتغالية (Portuguese) - `pt`
- 🇳🇱 الهولندية (Dutch) - `nl`
- 🇵🇱 البولندية (Polish) - `pl`
- 🇮🇳 الهندية (Hindi) - `hi`

استخدم `/listlangs` لعرض القائمة الكاملة

## 🔐 نظام الصلاحيات / Permission System

### الصلاحيات الافتراضية / Default Permissions
- 👑 مالك السيرفر (Server Owner) - صلاحيات كاملة
- 🛡️ الأدمنستريتور (Administrator) - صلاحيات كاملة

### الصلاحيات المخصصة / Custom Permissions
يمكن للأدمنز إضافة رتب مخصصة باستخدام:
- `/addrole` - منح رتبة صلاحية إدارة لغات القنوات
- `/removerole` - سحب الصلاحية من رتبة

### نظام لغات الرتب / Role Language System
ميزة جديدة تسمح بتعيين لغة افتراضية لكل رتبة:
- عند استخدام "Translate Message" يترجم للغة رتبتك
- يدعم رتب متعددة بلغات مختلفة
- راجع [دليل لغات الرتب](docs/ROLE_LANGUAGES_GUIDE.md) للتفاصيل

## 📚 الوثائق / Documentation

لمزيد من التفاصيل، راجع مجلد `docs/`:
- [نظام التقييم](docs/RATING_SYSTEM.md) - وثائق نظام التقييم التقنية
- [دليل التقييم الشامل](docs/RATING_SYSTEM_GUIDE.md) - دليل المستخدم للتقييم (عربي/إنجليزي)
- [نظام إدارة الصلاحيات](docs/ROLE_MANAGEMENT_SYSTEM.md) - وثائق نظام الصلاحيات
- [دليل لغات الرتب](docs/ROLE_LANGUAGES_GUIDE.md) - دليل شامل لميزة الترجمة حسب الرتب (عربي)

## 🆕 آخر التحديثات / Latest Updates

### الإصدار 2.0 (أكتوبر 2025)
- ✅ **دعم اللغة المزدوجة**: قم بتعيين لغتين لقناة واحدة مع ترجمة ثنائية الاتجاه
- ✅ **أمر /botstats**: إحصائيات شاملة للسيرفرات والتقييمات والقنوات
- ✅ **تتبع السيرفرات**: نظام تلقائي لتسجيل جميع السيرفرات التي ينضم إليها البوت
- ✅ **تقرير bot_stats.txt**: ملف نصي تفصيلي بإحصائيات البوت (Replit فقط)
- ✅ **رسائل خطأ متعددة اللغات**: دعم 8 لغات في رسائل الترجمة التفاعلية
- ✅ **ترجمة تلقائية للغات المستقبلية**: أي لغة جديدة تُترجم تلقائياً
- ✅ **مؤشرات بينج ديناميكية**: 6 مستويات مع رموز تعبيرية وألوان
- ✅ **أمر /view lists موحد**: تبويبات منظمة مع فلاتر وصفحات
- ✅ **تنظيم الأوامر**: مجموعات منظمة (channel, role, view)
- ✅ **أسماء أوامر محسّنة**: addlang, deletelang, perms, editperms

### الإصدار السابق
- ✅ **ميزة الترجمة التفاعلية**: انقر يمين على أي رسالة → Translate Message
- ✅ **نظام لغات الرتب**: تعيين لغة افتراضية لكل رتبة
- ✅ **تحسين الأداء**: نظام تخزين مؤقت للترجمة (1000 إدخال)
- ✅ **واجهة محسنة**: قوائم منسدلة وفلاتر ذكية
- ✅ **دعم 30+ لغة**: مع أسماء كاملة باللغة العربية

## 🔒 ملاحظات أمان / Security Notes

- ⚠️ لا ترفع توكن البوت إلى المستودع العام
- ✅ استخدم متغيرات البيئة أو Secrets على Replit
- 📁 ملفات البيانات محمية في `.gitignore`
- 🔐 نظام صلاحيات متقدم يحمي الأوامر الإدارية

## ⚡ الأداء / Performance

- 🚀 **ترجمة سريعة**: استخدام مكتبة `deep-translator` المحسّنة
- 💾 **تخزين مؤقت**: 1000 ترجمة محفوظة للوصول الفوري
- 📊 **كشف اللغة**: نظام ذكي يدعم 30+ لغة
- 🎯 **استجابة فورية**: معظم الأوامر تنفذ في أقل من ثانية

## 🤝 المساهمة / Contributing

المساهمات مرحب بها! يرجى:
1. Fork المستودع
2. إنشاء فرع للميزة الجديدة
3. Commit التغييرات
4. Push إلى الفرع
5. إنشاء Pull Request

## 📄 الترخيص / License

هذا المشروع مفتوح المصدر ومتاح للاستخدام الشخصي والتعليمي.

## 🆘 الدعم / Support

للمساعدة أو الإبلاغ عن مشاكل:
- افتح Issue في GitHub
- راجع الوثائق في مجلد `docs/`

---

تم التطوير بواسطة [myapps-web](https://github.com/myapps-web)
