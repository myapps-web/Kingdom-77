# ğŸ›ï¸ K77 Credits & Shop System Guide

**Kingdom-77 Bot v3.8 - Phase 5.6**  
**Date:** October 30, 2025  
**Status:** âœ… Complete

---

## ğŸ“‹ Overview

Ù†Ø¸Ø§Ù… K77 Credits Ù‡Ùˆ Ù†Ø¸Ø§Ù… Ø§Ù‚ØªØµØ§Ø¯ÙŠ Ù…ØªÙƒØ§Ù…Ù„ ÙŠØ³Ù…Ø­ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¨Ù€:
- ğŸ Ø¬Ù…Ø¹ Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ ÙŠÙˆÙ…ÙŠØ§Ù‹
- ğŸ’° Ø´Ø±Ø§Ø¡ Ø­Ø²Ù… Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª Ù…Ø¹ Ø¨ÙˆÙ†Øµ
- ğŸ›ï¸ Ø´Ø±Ø§Ø¡ Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªØ®ØµÙŠØµ Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±
- ğŸ’ ØªÙØ¹ÙŠÙ„ Premium Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª
- ğŸ¨ ØªØ®ØµÙŠØµ Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„ ÙˆØ§Ù„Ù…Ø³ØªÙˆÙ‰

---

## ğŸ’° K77 Credits System

### Ø±Ù…Ø² Ø§Ù„Ø¹Ù…Ù„Ø©
- **Ø§Ù„Ø±Ù…Ø²:** â„ï¸ (Snowflake)
- **Ø§Ù„Ø§Ø³Ù…:** K77 Credit
- **Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:** Ø´Ø±Ø§Ø¡ Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªØ®ØµÙŠØµ ÙˆØªÙØ¹ÙŠÙ„ Premium

### Ø·Ø±Ù‚ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª

#### 1. Daily Claim (Ù…Ø¬Ø§Ù†ÙŠ)
```
- Ø§Ù„ÙƒÙ…ÙŠØ©: 5-10 â„ï¸ Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Ù‹
- Ø§Ù„ØªÙƒØ±Ø§Ø±: Ù…Ø±Ø© ÙƒÙ„ 24 Ø³Ø§Ø¹Ø©
- Streak System: Ø§Ø³ØªÙ…Ø±Ø§Ø± Ù„Ù…Ø¯Ø© 48 Ø³Ø§Ø¹Ø©
```

**ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:**
1. Ø§ÙØªØ­ Dashboard â†’ Shop
2. Ø§Ø¶ØºØ· "ğŸ Claim Daily"
3. Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ 5-10 â„ï¸ Ù…Ø¨Ø§Ø´Ø±Ø©
4. Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ù…Ø·Ø§Ù„Ø¨Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹ Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Streak ğŸ”¥

#### 2. Purchase Packages (Ø´Ø±Ø§Ø¡)
```
4 Ø­Ø²Ù… Ù…ØªØ§Ø­Ø© Ù…Ø¹ Ø¨ÙˆÙ†Øµ Ø¥Ø¶Ø§ÙÙŠ
```

---

## ğŸ“¦ Credit Packages

### 1. ğŸ¯ Starter Pack
```yaml
Base Credits: 500 â„ï¸
Bonus Credits: +100 â„ï¸
Total: 600 â„ï¸
Price: $4.99 USD / 18.70 SAR
Bonus: 20%
```

### 2. ğŸ’ Value Pack â­ POPULAR
```yaml
Base Credits: 1,000 â„ï¸
Bonus Credits: +300 â„ï¸
Total: 1,300 â„ï¸
Price: $9.99 USD / 37.46 SAR
Bonus: 30%
```

### 3. âš¡ Mega Pack
```yaml
Base Credits: 2,000 â„ï¸
Bonus Credits: +800 â„ï¸
Total: 2,800 â„ï¸
Price: $19.99 USD / 74.96 SAR
Bonus: 40%
```

### 4. â„ï¸ Ultimate Pack ğŸ† BEST VALUE
```yaml
Base Credits: 5,000 â„ï¸
Bonus Credits: +2,000 â„ï¸
Total: 7,000 â„ï¸
Price: $49.90 USD / 187.13 SAR
Bonus: 40%
Badge: BEST VALUE
```

**Ù„Ù…Ø§Ø°Ø§ Ultimate Pack Ù‡Ùˆ Ø§Ù„Ø£ÙØ¶Ù„ØŸ**
- ÙŠÙƒÙÙŠ Ù„ØªÙØ¹ÙŠÙ„ Premium Ø³Ù†ÙˆÙŠØ§Ù‹ (5,000 â„ï¸) + Ø¨ÙˆÙ†Øµ 2,000 â„ï¸ Ù„Ù„Ù…ØªØ¬Ø±
- Ø£Ø¹Ù„Ù‰ Ù†Ø³Ø¨Ø© Ø¨ÙˆÙ†Øµ (40%)
- Ø£ÙØ¶Ù„ Ù‚ÙŠÙ…Ø© Ù…Ù‚Ø§Ø¨Ù„ Ø§Ù„Ø³Ø¹Ø±

---

## ğŸ›ï¸ Shop System

### Shop Categories

#### ğŸ–¼ï¸ Frames (Ø¥Ø·Ø§Ø±Ø§Øª Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø³ØªÙˆÙ‰)
Ø¥Ø·Ø§Ø±Ø§Øª Ù…Ù„ÙˆÙ†Ø© ØªØ­ÙŠØ· Ø¨Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ

| Item | Name | Rarity | Price | Color |
|------|------|--------|-------|-------|
| ğŸ‘‘ | Golden Frame | Epic | 500 â„ï¸ | Gold |
| ğŸ’ | Diamond Frame | Legendary | 1,000 â„ï¸ | Cyan |
| ğŸ”¥ | Fire Frame | Epic | 750 â„ï¸ | Red |
| â„ï¸ | Ice Frame | Epic | 750 â„ï¸ | Blue |

#### â­ Badges (Ø´Ø§Ø±Ø§Øª Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„)
Ø´Ø§Ø±Ø§Øª ØªØ¸Ù‡Ø± Ø¹Ù„Ù‰ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø³ØªÙˆÙ‰

| Item | Name | Rarity | Price | Description |
|------|------|--------|-------|-------------|
| â­ | VIP Badge | Rare | 300 â„ï¸ | Exclusive VIP status |
| ğŸ‘‘ | King Badge | Legendary | 800 â„ï¸ | Royal crown |
| ğŸ’– | Supporter Badge | Common | 250 â„ï¸ | Thank you for supporting! |

#### ğŸŒ… Banners (Ø®Ù„ÙÙŠØ§Øª Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø³ØªÙˆÙ‰)
Ø®Ù„ÙÙŠØ§Øª Ø¬Ù…ÙŠÙ„Ø© Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø³ØªÙˆÙ‰

| Item | Name | Rarity | Price | Theme |
|------|------|--------|-------|-------|
| ğŸŒ… | Sunset Banner | Rare | 400 â„ï¸ | Sunset |
| ğŸŒŒ | Galaxy Banner | Epic | 600 â„ï¸ | Galaxy |
| ğŸŒŠ | Ocean Banner | Rare | 400 â„ï¸ | Ocean |

#### ğŸ¨ Themes (Ø«ÙŠÙ…Ø§Øª ÙƒØ§Ù…Ù„Ø©)
ØªØµØ§Ù…ÙŠÙ… ÙƒØ§Ù…Ù„Ø© Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø³ØªÙˆÙ‰

| Item | Name | Rarity | Price | Style |
|------|------|--------|-------|-------|
| ğŸ¤– | Cyberpunk Theme | Legendary | 1,200 â„ï¸ | Futuristic |
| ğŸ§™ | Fantasy Theme | Epic | 1,000 â„ï¸ | Magical |

---

## ğŸ¨ Rarity System

### Rarity Levels

```
âšª Common    - Ø¹Ø§Ø¯ÙŠ   - Ø£Ù‚Ù„ Ø³Ø¹Ø±
ğŸ”µ Rare      - Ù†Ø§Ø¯Ø±   - Ù…ØªÙˆØ³Ø· Ø§Ù„Ø³Ø¹Ø±
ğŸŸ£ Epic      - Ø£Ø³Ø·ÙˆØ±ÙŠ - Ø³Ø¹Ø± Ù…Ø±ØªÙØ¹
ğŸŸ¡ Legendary - Ø®Ø±Ø§ÙÙŠ  - Ø£Ø¹Ù„Ù‰ Ø³Ø¹Ø±
```

### Rarity Colors
```python
Common:    #808080 (Gray)
Rare:      #0099FF (Blue)
Epic:      #9B59B6 (Purple)
Legendary: #FFD700 (Gold)
```

---

## ğŸ’ Premium Integration

### ØªÙØ¹ÙŠÙ„ Premium Ø¨Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª

#### Monthly Premium
```yaml
Cost: 500 â„ï¸
Duration: 30 days
Equivalent: $4.99 USD
```

#### Annual Premium ğŸ†
```yaml
Cost: 5,000 â„ï¸
Duration: 365 days
Equivalent: $49.90 USD
Save: 1,000 â„ï¸ (vs 12 months)
```

### Ù„Ù…Ø§Ø°Ø§ Ø§Ù„Ø¯ÙØ¹ Ø¨Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª Ø£ÙØ¶Ù„ØŸ

**Ù…Ø«Ø§Ù„: Ultimate Pack ($49.90)**
- âœ… **Ù…Ø¹ Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª:** 7,000 â„ï¸
  - ØªÙØ¹ÙŠÙ„ Premium Ø³Ù†ÙˆÙŠ: -5,000 â„ï¸
  - ÙŠØªØ¨Ù‚Ù‰: 2,000 â„ï¸ Ù„Ù„Ù…ØªØ¬Ø±
  - **Ø§Ù„Ù‚ÙŠÙ…Ø©:** Premium + Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªØ®ØµÙŠØµ

- âŒ **Ø¨Ø¯ÙˆÙ† Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª:** $49.90
  - Premium ÙÙ‚Ø·
  - Ù„Ø§ Ø¹Ù†Ø§ØµØ± Ø¥Ø¶Ø§ÙÙŠØ©
  - **Ø§Ù„Ù‚ÙŠÙ…Ø©:** Premium ÙÙ‚Ø·

**Ø§Ù„ÙØ±Ù‚:** Ø¨ÙˆÙ†Øµ 2,000 â„ï¸ = 40% Ù‚ÙŠÙ…Ø© Ø¥Ø¶Ø§ÙÙŠØ©!

---

## ğŸ“Š Dashboard UI

### Shop Page Features

#### 1. Balance Card
```
- Ø¹Ø±Ø¶ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ
- Daily Claim Button
- Streak Counter
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª (Earned, Spent, Purchased)
```

#### 2. Credit Packages Tab
```
- 4 Ø­Ø²Ù… Ù…Ø±ØªØ¨Ø© Ø­Ø³Ø¨ Ø§Ù„Ø³Ø¹Ø±
- Ø¹Ø±Ø¶ Base + Bonus Credits
- Ø£Ø³Ø¹Ø§Ø± Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± ÙˆØ§Ù„Ø±ÙŠØ§Ù„
- Popular Ùˆ Best Value badges
- Ø²Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
```

#### 3. Item Shop Tab
```
- ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹ (All, Frames, Badges, Banners, Themes)
- Ø¹Ø±Ø¶ Ø§Ù„Ù€ Preview Ø¨Ø§Ù„Ø£Ù„ÙˆØ§Ù†
- Rarity badge
- Owned / Equipped status
- Ø²Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ / Equip
```

#### 4. Item Preview Modal
```
- Ø¹Ø±Ø¶ ÙƒØ¨ÙŠØ± Ù„Ù„Ø¹Ù†ØµØ±
- Ø§Ù„ÙˆØµÙ Ø§Ù„ÙƒØ§Ù…Ù„
- Rarity Ùˆ Total Sales
- Ø²Ø± Purchase / Equip
```

---

## ğŸ”§ API Endpoints

### Credits API

#### `GET /api/credits/{user_id}/balance`
Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

**Query Parameters:**
- `username` (optional): Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

**Response:**
```json
{
  "user_id": 123456789,
  "username": "User",
  "balance": 1500,
  "total_earned": 100,
  "total_spent": 300,
  "total_purchased": 1700,
  "daily_claim_streak": 5,
  "can_claim_daily": true,
  "next_claim_time": null
}
```

#### `POST /api/credits/{user_id}/daily-claim`
Ø·Ù„Ø¨ Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª Ø§Ù„ÙŠÙˆÙ…ÙŠ

**Request Body:**
```json
{
  "user_id": 123456789,
  "username": "User"
}
```

**Response:**
```json
{
  "success": true,
  "amount": 7,
  "new_balance": 1507,
  "streak": 6,
  "next_claim_time": "2025-10-31T12:00:00Z",
  "message": "You claimed 7 â„ï¸ credits! Streak: 6 days ğŸ”¥"
}
```

#### `GET /api/credits/packages`
Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø­Ø²Ù… Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª

**Response:**
```json
[
  {
    "package_id": "starter",
    "name": "Starter Pack",
    "name_ar": "Ø­Ø²Ù…Ø© Ø§Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†",
    "base_credits": 500,
    "bonus_credits": 100,
    "total_credits": 600,
    "price_usd": 4.99,
    "price_sar": 18.70,
    "popular": false,
    "emoji": "ğŸ¯"
  }
]
```

#### `POST /api/credits/purchase`
Ø´Ø±Ø§Ø¡ Ø­Ø²Ù…Ø© ÙƒØ±ÙŠØ¯ÙŠØª

**Request Body:**
```json
{
  "user_id": 123456789,
  "username": "User",
  "package_id": "ultimate",
  "payment_method": "moyasar"
}
```

**Response:**
```json
{
  "success": true,
  "payment_url": "https://payment.moyasar.com/checkout/...",
  "transaction_id": "txn_123456789_1234567890",
  "message": "Redirecting to payment gateway..."
}
```

#### `POST /api/credits/{user_id}/transfer`
ØªØ­ÙˆÙŠÙ„ ÙƒØ±ÙŠØ¯ÙŠØª Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¢Ø®Ø±

**Request Body:**
```json
{
  "from_user_id": 123456789,
  "to_user_id": 987654321,
  "to_username": "FriendUser",
  "amount": 100,
  "note": "Gift for you!"
}
```

**Response:**
```json
{
  "success": true,
  "from_balance": 1400,
  "to_balance": 100,
  "message": "Successfully transferred 100 â„ï¸ to FriendUser"
}
```

#### `GET /api/credits/{user_id}/transactions`
Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª

**Query Parameters:**
- `limit` (default: 50): Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
- `transaction_type` (optional): Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©

**Transaction Types:**
```
- daily_claim: Daily claim
- purchase: Credit purchase
- spend: Credit spent
- gift_sent: Gift sent
- gift_received: Gift received
- premium_purchase: Premium purchase
- shop_purchase: Shop item purchase
- transfer_sent: Transfer sent
- transfer_received: Transfer received
```

---

### Shop API

#### `GET /api/shop/items`
Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…ØªØ¬Ø±

**Query Parameters:**
- `item_type` (optional): frame, badge, banner, theme
- `user_id` (optional): Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ©

**Response:**
```json
[
  {
    "item_id": "frame_gold",
    "name": "Golden Frame",
    "name_ar": "Ø¥Ø·Ø§Ø± Ø°Ù‡Ø¨ÙŠ",
    "description": "Luxurious golden border",
    "description_ar": "Ø¥Ø·Ø§Ø± Ø°Ù‡Ø¨ÙŠ ÙØ§Ø®Ø±",
    "type": "frame",
    "price": 500,
    "rarity": "epic",
    "rarity_emoji": "ğŸŸ£",
    "rarity_color": 10181046,
    "emoji": "ğŸ‘‘",
    "total_sales": 50,
    "owned": false,
    "equipped": false
  }
]
```

#### `GET /api/shop/{user_id}/inventory`
Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

**Query Parameters:**
- `item_type` (optional): ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹

**Response:**
```json
[
  {
    "item_id": "frame_gold",
    "item_name": "Golden Frame",
    "item_type": "frame",
    "equipped": true,
    "acquired_at": "2025-10-30T12:00:00Z"
  }
]
```

#### `POST /api/shop/{user_id}/purchase`
Ø´Ø±Ø§Ø¡ Ø¹Ù†ØµØ± Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±

**Request Body:**
```json
{
  "user_id": 123456789,
  "username": "User",
  "item_id": "frame_gold"
}
```

**Response:**
```json
{
  "success": true,
  "item": {
    "item_id": "frame_gold",
    "name": "Golden Frame",
    "type": "frame",
    "emoji": "ğŸ‘‘"
  },
  "new_balance": 1000,
  "message": "Successfully purchased Golden Frame ğŸ‘‘!"
}
```

#### `POST /api/shop/{user_id}/equip`
ØªØ¬Ù‡ÙŠØ² Ø¹Ù†ØµØ± Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

**Request Body:**
```json
{
  "user_id": 123456789,
  "item_id": "frame_gold"
}
```

**Response:**
```json
{
  "success": true,
  "item_id": "frame_gold",
  "item_type": "frame",
  "message": "Successfully equipped Golden Frame!"
}
```

**Note:** Ø¹Ù†Ø¯ ØªØ¬Ù‡ÙŠØ² Ø¹Ù†ØµØ±ØŒ ÙŠØªÙ… Ø¥Ù„ØºØ§Ø¡ ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ø®Ø±Ù‰ Ù…Ù† Ù†ÙØ³ Ø§Ù„Ù†ÙˆØ¹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.

#### `GET /api/shop/{user_id}/equipped`
Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø¬Ù‡Ø²Ø©

**Response:**
```json
{
  "frame": {
    "item_id": "frame_gold",
    "item_name": "Golden Frame",
    "item_type": "frame",
    "equipped": true,
    "acquired_at": "2025-10-30T12:00:00Z"
  },
  "badge": {...},
  "banner": {...}
}
```

---

## ğŸ—„ï¸ Database Schema

### Collections

#### `user_credits`
```javascript
{
  user_id: 123456789,           // Discord user ID
  username: "User",             // Discord username
  balance: 1500,                // Current balance
  total_earned: 100,            // Total earned (daily claims)
  total_spent: 300,             // Total spent (shop, premium)
  total_purchased: 1700,        // Total purchased with money
  last_daily_claim: ISODate(),  // Last daily claim time
  daily_claim_streak: 5,        // Current streak
  created_at: ISODate(),
  updated_at: ISODate()
}
```

#### `credit_transactions`
```javascript
{
  user_id: 123456789,
  transaction_type: "shop_purchase",
  amount: -500,
  description: "Purchased Golden Frame ğŸ‘‘",
  metadata: {
    item_id: "frame_gold",
    item_type: "frame",
    item_rarity: "epic"
  },
  created_at: ISODate()
}
```

#### `shop_items`
```javascript
{
  item_id: "frame_gold",
  name: "Golden Frame",
  name_ar: "Ø¥Ø·Ø§Ø± Ø°Ù‡Ø¨ÙŠ",
  description: "Luxurious golden border",
  description_ar: "Ø¥Ø·Ø§Ø± Ø°Ù‡Ø¨ÙŠ ÙØ§Ø®Ø±",
  type: "frame",
  price: 500,
  rarity: "epic",
  preview_url: "https://...",
  color: "#FFD700",
  emoji: "ğŸ‘‘",
  enabled: true,
  stock: -1,  // -1 = unlimited
  total_sales: 50,
  created_at: ISODate()
}
```

#### `user_inventory`
```javascript
{
  user_id: 123456789,
  item_id: "frame_gold",
  item_name: "Golden Frame",
  item_type: "frame",
  equipped: true,
  acquired_at: ISODate()
}
```

#### `credit_packages`
```javascript
{
  package_id: "ultimate",
  name: "Ultimate Pack",
  name_ar: "Ø§Ù„Ø­Ø²Ù…Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©",
  base_credits: 5000,
  bonus_credits: 2000,
  total_credits: 7000,
  price_usd: 49.90,
  price_sar: 187.13,
  popular: false,
  emoji: "â„ï¸",
  badge: "BEST VALUE",
  enabled: true,
  total_sales: 10,
  created_at: ISODate()
}
```

---

## ğŸ¯ User Flow Examples

### Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 1: Ø´Ø±Ø§Ø¡ Premium Ø¨Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª

```
1. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ´ØªØ±ÙŠ Ultimate Pack ($49.90)
   â†’ ÙŠØ­ØµÙ„ Ø¹Ù„Ù‰ 7,000 â„ï¸ (5,000 + 2,000 bonus)

2. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙØ¹Ù‘Ù„ Premium Ø³Ù†ÙˆÙŠ
   â†’ ÙŠØ¯ÙØ¹ 5,000 â„ï¸
   â†’ ÙŠØªØ¨Ù‚Ù‰ 2,000 â„ï¸

3. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ´ØªØ±ÙŠ Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±:
   - Golden Frame: -500 â„ï¸
   - VIP Badge: -300 â„ï¸
   - Galaxy Banner: -600 â„ï¸
   â†’ ÙŠØªØ¨Ù‚Ù‰ 600 â„ï¸
```

### Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 2: Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¬Ø§Ù†ÙŠ (Daily Claim ÙÙ‚Ø·)

```
1. Daily Claim Ù„Ù…Ø¯Ø© 30 ÙŠÙˆÙ…
   â†’ Ù…ØªÙˆØ³Ø· 7 â„ï¸ Ã— 30 = 210 â„ï¸

2. Ø¨Ø¹Ø¯ Ø´Ù‡Ø±ÙŠÙ† (~420 â„ï¸)
   â†’ ÙŠÙ…ÙƒÙ† Ø´Ø±Ø§Ø¡ Ocean Banner (400 â„ï¸)

3. Ø¨Ø¹Ø¯ 4 Ø£Ø´Ù‡Ø± (~840 â„ï¸)
   â†’ ÙŠÙ…ÙƒÙ† Ø´Ø±Ø§Ø¡ King Badge (800 â„ï¸)
```

### Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 3: Transfer Ø¨ÙŠÙ† Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡

```
1. User A ÙŠØ´ØªØ±ÙŠ Mega Pack
   â†’ ÙŠØ­ØµÙ„ Ø¹Ù„Ù‰ 2,800 â„ï¸

2. User A ÙŠØ­ÙˆÙ„ 500 â„ï¸ Ù„Ù€ User B
   â†’ A: 2,300 â„ï¸
   â†’ B: 500 â„ï¸ (ÙƒØ§Ù† 0)

3. User B ÙŠØ´ØªØ±ÙŠ VIP Badge (300 â„ï¸)
   â†’ B: 200 â„ï¸
```

---

## ğŸ” Security & Validation

### Purchase Validation
```python
âœ… User must have sufficient balance
âœ… Item must exist and be enabled
âœ… User cannot purchase owned items
âœ… Transaction recorded in history
```

### Transfer Validation
```python
âœ… Minimum transfer: 10 â„ï¸
âœ… Cannot transfer to yourself
âœ… Must have sufficient balance
âœ… Both transactions recorded
```

### Equip Validation
```python
âœ… User must own the item
âœ… Auto-unequip same type items
âœ… Only one item per type equipped
```

---

## ğŸ“ˆ Statistics & Analytics

### Trackable Metrics

**User Metrics:**
- Total balance
- Total earned (daily claims)
- Total spent (shop purchases)
- Total purchased (money)
- Daily claim streak
- Items owned
- Items equipped

**Item Metrics:**
- Total sales per item
- Most popular items
- Revenue per item

**Package Metrics:**
- Total sales per package
- Most popular package
- Total revenue

---

## ğŸš€ Future Enhancements

### Planned Features

1. **Giveaway System**
   - User-funded giveaways
   - Random winner selection
   - Entry requirements

2. **Quests & Achievements**
   - Daily/weekly quests
   - Achievement rewards
   - Quest chains

3. **Trading System**
   - Item trading between users
   - Trade offers & confirmations
   - Trade history

4. **Seasonal Items**
   - Limited-time items
   - Seasonal themes
   - Holiday specials

5. **Item Bundles**
   - Package deals (multiple items)
   - Bundle discounts
   - Themed bundles

---

## âœ… Testing Checklist

### Credits System
- [ ] Daily claim works correctly
- [ ] Streak system maintains correctly
- [ ] Balance updates properly
- [ ] Transaction history records all actions
- [ ] Transfer works between users
- [ ] Purchase creates payment session

### Shop System
- [ ] Items display correctly
- [ ] Filter by type works
- [ ] Purchase deducts credits
- [ ] Cannot purchase owned items
- [ ] Equip system works
- [ ] Auto-unequip works
- [ ] Inventory displays correctly

### Dashboard UI
- [ ] Balance displays correctly
- [ ] Daily claim button works
- [ ] Package cards display
- [ ] Shop items display
- [ ] Preview modal works
- [ ] Purchase flow works
- [ ] Loading states work

---

## ğŸ‰ Congratulations!

Ù†Ø¸Ø§Ù… K77 Credits & Shop Ù…ÙƒØªÙ…Ù„ Ø¨Ù†Ø¬Ø§Ø­! 

**Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:**
- âœ… ~2,200+ lines of code
- âœ… 12 API Endpoints
- âœ… 13 Shop Items
- âœ… 4 Credit Packages
- âœ… Full Dashboard UI
- âœ… Complete Documentation

**Kingdom-77 Bot Ø§Ù„Ø¢Ù† Ù„Ø¯ÙŠÙ‡ Ù†Ø¸Ø§Ù… Ø§Ù‚ØªØµØ§Ø¯ÙŠ Ù…ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ù…ØªØ¬Ø± ØªØ®ØµÙŠØµ ÙƒØ§Ù…Ù„!** ğŸš€ğŸ‘‘

---

**ØªØ°ÙƒÙŠØ±:** Ø§Ø®ØªØ¨Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬ÙŠØ¯Ø§Ù‹ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ØŒ Ø±Ø§Ù‚Ø¨ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ØŒ ÙˆÙˆØ«Ù‚ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª! ğŸ’ª
